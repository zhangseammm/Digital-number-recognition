## Shell练习题

### 说明

这些题目可以很容易地在网上找到答案，我们在文末也附了答案供你做完后比对，但我们希望你查阅资料自行完成，而不是直接看答案。请将你自己做的答案放到 `/tasks/week2/shell_exercise` 目录下。

选做部分供有余力的同学完成，不影响积分值。我们始终鼓励你更熟练地掌握基本的技能，如果你完成了，同样将代码上传。

### 必做题

**作业一：写一个脚本**

1. 创建目录 `/tmp/scripts`。  
1. 切换工作目录至此目录中。
1. 复制 `/etc/pam.d` 目录至当前目录，并重命名为 `test`。
1. 将当前目录的 `test` 及其里面的文件和子目录的属主改为 `redhat`。
1. 将 `test` 及其子目录中的文件的其它用户的权限改为没有任何权限。

**作业二：写一个脚本**

1. 显示当前系统日期和时间，而后创建目录 `/tmp/lstest`。  
1. 切换工作目录至 `/tmp/lstest`。
1. 创建目录 `a1d`，`b56e`，`6test`。
1. 创建空文件 `xy`，`x2y`，`732`。
1. 列出当前目录下以 `a`，`x` 或者 `6` 开头的文件或目录。
1. 列出当前目录下以字母开头，后跟一个任意数字，而后跟任意长度字符的文件或目录。

### 选做题

**题目要求：** 有文本文件 `stu.txt`，该文件是所有学生的信息，每个学生存储一行信息，信息格式如下：`学号:姓名:性别:专业`，如 `100:张三:男:计算机`

设计一个脚本，名称为 `stu.sh`，该脚本完成如下功能：

1. 当输入 `stu.sh` 时，列出所有记录内容。
2. 当输入 `stu.sh -a 100:张三:男:计算机` 时，首先判断 100 记录是否存在，如果不存在，则把该信息写入文件，如果存在，则给出提示，并输出文件中学号为 100 的该行信息。
3. 当输入 `stu.sh -d 100` 时，首先判断 100 记录是否存在，如果不存在，给出提示；如果存在，则提示用户确认是否要删除记录，如用户输入 `y` 或者 `yes`，则删除文件中学号为 100 的该行信息，如果用户输入 `n` 或 `no` 时，则不做删除操作。
1. 当输入 `stu.sh -s 100` 时，首先判断100记录是否存在，如果不存在，给出提示；如果存在，则输出文件中学号为 100 的该行信息。
1. 当用户输入的选项不正确时，给出错误提示，并输入该脚本的用法。

文本 `stu.txt` 内容为：

```
100:张三:男:计算机
101:张红:女:文秘
102:张飞:男:体育
103:张婷:女:英语
104:张海洋:男:机电
```

[选做题参考答案](http://zfy421.iteye.com/blog/1972003)  